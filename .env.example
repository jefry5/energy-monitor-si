# ============================================================
#  EnergyCore v2 — Variables de Entorno
#  Copia este archivo como ".env" y completa los valores.
#  Todo el sistema arranca con: docker-compose up -d
# ============================================================

# ── Google Gemini AI ──────────────────────────────────────────
GEMINI_API_KEY="tu_api_key_de_gemini_aqui"

# ── Telegram Bot ──────────────────────────────────────────────
# Obtén el TOKEN con @BotFather en Telegram
TELEGRAM_TOKEN="token_de_tu_bot_aqui"
# Chat ID del grupo o usuario que recibirá las alertas
TELEGRAM_CHAT_ID=-123456789

# ── InfluxDB ──────────────────────────────────────────────────
# En Docker, la URL interna es http://influxdb:8086
# (docker-compose la inyecta automáticamente en n8n y dashboard)
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_TOKEN="tu_token_de_influxdb_aqui"
INFLUXDB_ORG=universidad
INFLUXDB_BUCKET=energia

# ── PostgreSQL ────────────────────────────────────────────────
POSTGRES_DB=energia_db
POSTGRES_USER=energia_user
POSTGRES_PASSWORD="tu_password_seguro_aqui"

# ── n8n ───────────────────────────────────────────────────────
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin123
GENERIC_TIMEZONE=America/Lima

# ── MQTT (Mosquitto) ──────────────────────────────────────────
# En Docker, el broker es "mosquitto" (nombre del contenedor)
MQTT_BROKER=mosquitto
MQTT_PORT=1883

# ── Simulador de Sensores ─────────────────────────────────────
TOPIC_PREFIX=edificio
BUILDING_ID=edificio_principal
SIM_INTERVAL=2.0
WARMUP_READINGS=50

# ── Cloudflare Tunnel ─────────────────────────────────────────
# La URL del túnel se genera AUTOMÁTICAMENTE al arrancar.
# No necesitas configurar nada aquí para el quick tunnel.
# Si tienes un tunnel con cuenta Cloudflare y quieres URL fija,
# usa: CLOUDFLARE_TUNNEL_TOKEN="tu_token_aqui"
# Y reemplaza el servicio cloudflared en docker-compose.yml con:
#   command: tunnel --no-autoupdate run --token ${CLOUDFLARE_TUNNEL_TOKEN}
